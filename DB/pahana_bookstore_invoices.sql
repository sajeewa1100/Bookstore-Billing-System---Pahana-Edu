-- MySQL dump 10.13  Distrib 8.0.43, for Win64 (x86_64)
--
-- Host: localhost    Database: pahana_bookstore
-- ------------------------------------------------------
-- Server version	9.1.0

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `invoices`
--

DROP TABLE IF EXISTS `invoices`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `invoices` (
  `id` int NOT NULL AUTO_INCREMENT,
  `invoice_number` varchar(20) NOT NULL,
  `client_id` int DEFAULT NULL,
  `staff_id` int NOT NULL,
  `invoice_date` date NOT NULL,
  `subtotal` decimal(12,2) NOT NULL,
  `loyalty_discount` decimal(12,2) DEFAULT '0.00',
  `total_amount` decimal(12,2) NOT NULL,
  `cash_given` decimal(12,2) NOT NULL,
  `change_amount` decimal(12,2) DEFAULT '0.00',
  `loyalty_points_earned` int DEFAULT '0',
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `invoice_number` (`invoice_number`),
  KEY `staff_id` (`staff_id`),
  KEY `idx_invoices_date` (`invoice_date`),
  KEY `idx_invoices_client_id` (`client_id`)
) ENGINE=MyISAM AUTO_INCREMENT=31 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `invoices`
--

LOCK TABLES `invoices` WRITE;
/*!40000 ALTER TABLE `invoices` DISABLE KEYS */;
INSERT INTO `invoices` VALUES (1,'0000000001',1,2,'2024-08-20',2800.00,280.00,2520.00,3000.00,480.00,25,'2025-08-26 06:28:16'),(2,'0000000002',3,3,'2024-08-21',4500.00,675.00,3825.00,4000.00,175.00,38,'2025-08-26 06:28:16'),(24,'0000000023',20,1,'2025-08-28',1550.00,93.00,1457.00,1500.00,43.00,28,'2025-08-28 12:55:51'),(16,'0000000015',1,1,'2025-08-27',2650.00,291.50,2358.50,2458.50,100.00,46,'2025-08-27 06:29:57'),(17,'0000000016',2,1,'2025-08-27',2500.00,150.00,2350.00,2450.00,100.00,46,'2025-08-27 06:31:03'),(6,'0000000006',1,1,'2025-08-26',2650.00,265.00,2385.00,2485.00,100.00,23,'2025-08-26 07:12:20'),(7,'0000000007',1,1,'2025-08-26',2650.00,265.00,2385.00,2485.00,100.00,23,'2025-08-26 07:18:13'),(8,'0000000008',1,1,'2025-08-26',2650.00,265.00,2385.00,2485.00,100.00,23,'2025-08-26 07:28:44'),(9,'0000000009',1,1,'2025-08-26',2650.00,265.00,2385.00,2485.00,100.00,23,'2025-08-26 11:53:29'),(10,'0000000010',1,1,'2025-08-26',2650.00,265.00,2385.00,2485.00,100.00,23,'2025-08-26 12:57:22'),(11,'0000000011',1,1,'2025-08-26',2650.00,265.00,2385.00,2485.00,100.00,23,'2025-08-26 14:09:56'),(12,'0000000012',1,1,'2025-08-26',2650.00,265.00,2385.00,2485.00,100.00,23,'2025-08-26 14:18:59'),(13,'0000000013',2,1,'2025-08-26',2500.00,150.00,2350.00,2450.00,100.00,46,'2025-08-26 14:48:04'),(14,'0000000014',1,1,'2025-08-26',1500.00,165.00,1335.00,1435.00,100.00,26,'2025-08-26 14:48:04'),(18,'0000000017',1,1,'2025-08-27',1500.00,165.00,1335.00,1435.00,100.00,26,'2025-08-27 06:31:03'),(19,'0000000018',4,1,'2025-08-27',5000.00,300.00,4700.00,4800.00,100.00,94,'2025-08-27 06:31:03'),(20,'0000000019',2,1,'2025-08-27',6200.00,372.00,5828.00,6000.00,172.00,116,'2025-08-27 07:38:11'),(21,'0000000020',NULL,1,'2025-08-27',950.00,0.00,950.00,5000.00,4050.00,0,'2025-08-27 17:06:02'),(22,'0000000021',NULL,1,'2025-08-27',950.00,0.00,950.00,5000.00,4050.00,0,'2025-08-27 17:07:22'),(23,'0000000022',NULL,1,'2025-08-27',950.00,0.00,950.00,3999.00,3049.00,0,'2025-08-27 17:07:46'),(25,'0000000024',NULL,1,'2025-08-28',1650.00,0.00,1650.00,1700.00,50.00,0,'2025-08-28 13:11:02'),(26,'0000000025',20,1,'2025-08-28',3300.00,198.00,3102.00,3400.00,298.00,62,'2025-08-28 13:16:51'),(27,'0000000026',20,1,'2025-08-28',3300.00,198.00,3102.00,5000.00,1898.00,62,'2025-08-28 13:25:31'),(28,'0000000027',20,1,'2025-08-28',1650.00,99.00,1551.00,2000.00,449.00,30,'2025-08-28 13:43:02'),(29,'0000000028',20,1,'2025-08-29',1800.00,108.00,1692.00,1900.00,208.00,32,'2025-08-29 04:48:13'),(30,'0000000029',20,1,'2025-08-30',4950.00,297.00,4653.00,5000.00,347.00,92,'2025-08-30 14:30:01');
/*!40000 ALTER TABLE `invoices` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2025-08-30 23:27:57
